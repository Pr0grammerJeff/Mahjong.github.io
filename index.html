<!DOCTYPE html>
<html>
  <head>
    <title>麻雀計算機</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <header>
      <h1>東圈東局</h1>
      <div class="function-btn-container">
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>創建牌局</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>重設</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>莊家設定</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>拉數/投降</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>更多</span>
        </button>
      </div>
      <div class="function-btn-container">
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>換人換位</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>新增玩家</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>找數</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>分享賽果</span>
        </button>
        <button class="function-btn">
          <div>
            <img
              src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22800px%22%20height%3D%22800px%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%3E%0A%20%20%3Cg%20id%3D%22Edit%20%2F%20Add_Plus_Circle%22%3E%0A%20%20%20%20%3Cpath%20id%3D%22Vector%22%20d%3D%22M8%2012H12M12%2012H16M12%2012V16M12%2012V8M12%2021C7.02944%2021%203%2016.9706%203%2012C3%207.02944%207.02944%203%2012%203C16.9706%203%2021%207.02944%2021%2012C21%2016.9706%2016.9706%2021%2012%2021Z%22%20stroke%3D%22%23000000%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E"
              alt="Icon"
              width="60"
              height="60"
            />
          </div>
          <span>擲骰</span>
        </button>
      </div>
    </header>
    <main>
      <div class="main-container">
        <button class="sit-btn" onclick="openPopup(1)">
          <span>Player 1</span>
        </button>
      </div>
      <div class="main-container">
        <button class="sit-btn" onclick="openPopup(2)">
          <span>Player 2</span>
        </button>
        <button class="skip-btn">
          <span>流局</span>
        </button>
        <button class="sit-btn" onclick="openPopup(3)">
          <span>Player 3</span>
        </button>
      </div>
      <div class="main-container">
        <button class="sit-btn" onclick="openPopup(4)">
          <span>Player 4</span>
        </button>
      </div>
      <footer>
        <div class="function-btn-container">
          <button class="page-btn"><span>戰況</span></button>
          <button class="page-btn"><span>統計</span></button>
        </div>
      </footer>
    </main>
  </body>
</html>

<script>
  function openPopup(playerNumber) {
    // Create a popup screen element
    var screen = document.createElement("div");
    screen.classList.add("popup-screen");

    // Create a popup content container
    var content = document.createElement("div");
    content.classList.add("popup-content");

    // Create a title element
    var title = document.createElement("div");
    title.classList.add("popup-title");
    title.textContent = "Please choose an avatar and enter your name";
    title.style.fontWeight = "bold";
    title.style.fontSize = "28px";

    // Create a container for avatar selection
    var avatarContainer = document.createElement("div");
    avatarContainer.classList.add("avatar-container");

    // Create avatar images
    for (var i = 1; i <= 8; i++) {
      var avatar = document.createElement("img");
      avatar.src = "images/" + i + ".jpeg";
      avatar.classList.add("avatar-image");
      avatar.style.objectFit = "cover"; // Ensure the image fills the square container
      avatar.style.width = "100px"; // Set the width to the desired square size
      avatar.style.height = "100px"; // Set the height to the desired square size
      avatar.style.margin = "5px"; // Add some margin around each image

      avatar.addEventListener("click", function () {
        var selectedAvatar = this.src;
        var selectedAvatarPreview = document.querySelector(
          ".selected-avatar-preview"
        );
        selectedAvatarPreview.src = selectedAvatar;
      });

      avatarContainer.appendChild(avatar);
    }

    // Adjust container width based on window size
    var containerWidth = Math.min((100 + 10) * 4 + 10, window.innerWidth);
    avatarContainer.style.width = containerWidth + "px";
    avatarContainer.style.overflowX = "auto";

    // Create a text input element
    var input = document.createElement("input");
    input.type = "text";
    input.placeholder = "Enter player name";
    input.classList.add("popup-input");
    input.style.textAlign = "center";
    input.style.height = "90px";
    input.style.fontWeight = "bold";
    input.style.fontSize = "28px";

    // Create a submit button
    var submitBtn = document.createElement("button");
    submitBtn.innerHTML = "Submit";
    submitBtn.classList.add("popup-button");
    submitBtn.style.fontWeight = "bold";
    submitBtn.style.fontSize = "28px";

    // Create a selected avatar preview element
    var selectedAvatarPreview = document.createElement("img");
    selectedAvatarPreview.classList.add("selected-avatar-preview");
    selectedAvatarPreview.src = "default-avatar.png";

    // Add the elements to the content container
    content.appendChild(title);
    content.appendChild(avatarContainer);
    content.appendChild(selectedAvatarPreview);
    content.appendChild(input);
    content.appendChild(submitBtn);

    // Add the content container to the screen
    screen.appendChild(content);

    // Append the screen to the body
    document.body.appendChild(screen);

    // Add event listener to the submit button
    submitBtn.addEventListener("click", function () {
      var playerName = input.value;

      // Show the player name in the middle of the corresponding button
      var button = document.querySelector(
        ".sit-btn:nth-of-type(" + playerNumber + ")"
      );
      button.innerHTML = playerName;
      button.style.fontWeight = "bold";
      button.style.fontSize = "28px";

      // Show the chosen image above the player name
      var selectedAvatar = selectedAvatarPreview.src;
      var avatarImage = document.createElement("img");
      avatarImage.src = selectedAvatar;
      avatarImage.style.display = "block";
      avatarImage.style.margin = "auto";
      avatarImage.style.width = "200px"; // Set the desired width

      // Apply square cropping
      avatarImage.style.objectFit = "cover";
      avatarImage.style.objectPosition = "center";

      // Apply square dimensions
      avatarImage.style.height = "200px";

      button.prepend(avatarImage);

      // Remove the screen
      document.body.removeChild(screen);
    });

    // Add event listener to close the screen when clicking outside of it
    window.addEventListener("click", function (event) {
      if (event.target === screen) {
        document.body.removeChild(screen);
      }
    });
  }
</script>
